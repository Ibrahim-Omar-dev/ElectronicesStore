@model IEnumerable<Order>
@{
}

<div class="container">
    <h2 class="h2 text-center mb-5">List Of Orders</h2>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Units</th>
                <th>Total Price</th>
                <th>Payment Method</th>
                <th>Payment Status</th>
                <th>Order Status</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var order in Model)
            {
                        <tr>
                            <td>@order.OrderItems.Count</td>
                            <td>@(order.TotalPrice)$</td>
                            <td>@order.PaymentMethod</td>

                            <!-- Payment Status -->
                            <td>
                        @if (order.PaymentStatus == "Pending")
                        {
                                            <span class="badge bg-warning text-dark">Pending</span>
                        }
                        else if (order.PaymentStatus == "Accepted")
                        {
                                                    <span class="badge bg-primary">Accepted</span>
                        }
                        else if (order.PaymentStatus == "Canceled")
                        {
                                            <span class="badge bg-danger">Canceled</span>
                        }
                        else
                        {
                                            <span class="badge bg-dark">Unknown</span>
                        }
                            </td>

                            <!-- Order Status -->
                            <td>
                        @switch (order.OrderStatus)
                        {
                            case "Pending":
                                                        <span class="badge bg-warning text-dark">Pending</span>
                                break;
                            case "Created":
                                                        <span class="badge bg-secondary">Created</span>
                                break;
                            case "Accepted":
                                                        <span class="badge bg-primary">Accepted</span>
                                break;
                            case "Shipped":
                                                        <span class="badge bg-info text-dark">Shipped</span>
                                break;
                            case "Delivered":
                                                        <span class="badge bg-success">Delivered</span>
                                break;
                            case "Returned":
                                                        <span class="badge bg-warning text-dark">Returned</span>
                                break;
                            case "Deleted":
                                                        <span class="badge bg-danger">Deleted</span>
                                break;
                            default:
                                                        <span class="badge bg-dark">Unknown</span>
                                break;
                        }
                            </td>

                            <td>@order.CreatedAt.ToString("MM/dd/yyyy")</td>
                            <td>
                                <a asp-action="Details" asp-route-id="@order.Id" class="btn btn-info">Details</a>
                            </td>
                        </tr>
            }
        </tbody>
    </table>
</div>

<!-- Pagination -->
<nav class="d-flex align-items-center justify-content-center mt-5">
    <ul class="pagination">
        @for (int i = 1; i <= ViewBag.TotalPages; i++)
        {
                    <li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
                        <a class="page-link" asp-action="Index" asp-route-pageIndex="@i">@i</a>
                    </li>
        }
    </ul>
</nav>
